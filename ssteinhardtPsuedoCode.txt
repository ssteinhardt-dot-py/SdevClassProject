#Psuedocode for group project
SET FEDERAL_TAX_RATE = 0.079
SET STATE_TAX_RATE = 0.056
SET OVERTIME_MULTIPLIER = 1.5
SET REGULAR_HOURS = 40


RATES = {
	'E001': 30.00,
	'E002': 25.00,
	'E003': 22.00,
	'E004': 22.00,
	'E005': 22.00,
	'E006': 22.00,
	'E007': 22.00,
	'E008': 22.00,
	'E009': 22.00,
	'E010': 22.00,
	'E011': 22.00,
	'E012': 22.00,
	'E013': 22.00,
	'E014': 15.00,
	'E015': 15.00
}
function getInput():
	output 'Please enter your employee ID'
	input employeeId
	output 'Please enter your first name'
	input firstName
	output 'Please enter your last name'
	input lastName
	output 'Please enter the number of your dependents'
	input dependents
	output 'Please enter hours worked' 
	input hoursWorked
	record = [employeeId, firstName, lastName, dependents, hoursWorked]
		return {
			ID: employeeId,
			FIRST: firstName,
			LAST: lastName,
			DEPENDENTS: dependents,
			HOURS: hoursWorked,
		}
function promptContinue():
	output "Would you like to calculate payroll and export to spreadsheet? y/n: "
	input prompt
	if prompt = 'y'
		return true
	else
		return false
function getEmployeeRate(employeeId):
	if employeeId not in RATES then
		output 'Invalid ID'
		return NULL
	else
		return RATES[employeeId]

function calculateGrossPay(hoursWorked, employeeRate):
	if hoursWorked <= REGULAR_HOURS then
		grossPay = hoursWorked * employeeRate
		return grossPay
	else
		overtimePay = (hoursWorked - REGULAR_HOURS) * (OVERTIME_MULTIPLIER * employeeRate)
		preOvertime = REGULAR_HOURS * employeeRate
		grossPay = overtimePay + preOvertime
		return grossPay
	endif
		
main()
continueCalculation = promptContinue()
while continueCalculation is true then
	record = getInput()
	rate = getEmployeeRate(record.ID)
	hours = record.HOURS
	#we now have the employee’s ID, first name, last name, and num of dependents
	#hours worked, and rate


	#calculate gross pay, the pretax amount
	gross = calculateGrossPay(hours, rate)
	#calculate state tax
	stateTax = gross * STATE_TAX_RATE
	#calculate federal tax
	federalTax = gross * FEDERAL_TAX_RATE

	#calculate the net pay or 'post tax amount'
	netPay = gross - (stateTax + federalTax)


	#Now we need to output to a spreadsheet and prime the loop
	#we are assuming here that exporting to a premade excel spreadsheet is possible here and that we dont have to build a module for it and will come back to it later
	exportGross(record.ID, gross)
	
	#variable to continue the loop
	continueCalculation = promptContinue()
	
	#Ouputs gross pay, tax deducted and so on
	output 'GROSS PAY: $' + gross
	output 'STATE TAX DEDUCTED: $' + stateTax
	output 'FEDERAL TAX DEDUCTED: $' + federalTax
	output 'NET PAY: $' + netPay
output 'END OF JOB – PAYROLL COMPLETE'
	



